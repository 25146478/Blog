<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>TCaptcha - 阿星Plus</title>
</head>

<body>
    <!--id : 元素的id(必须)-->
    <!--data-appid : AppID(必须)-->
    <!--data-cbfn : 回调函数名(必须)-->
    <!--data-biz-state : 业务自定义透传参数(可选)-->
    <button id="TencentCaptcha" data-appid="2080083621" data-cbfn="callback">验证</button>
</body>
<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
<script>
window.callback = function(res) {
    // res（用户主动关闭验证码）= {ret: 2, ticket: null}
    // res（验证成功） = {ret: 0, ticket: "String", randstr: "String"}
    console.log(res)

    if (res.ret === 0) {
        var data = "?aid=2080083621&AppSecretKey=0sp6LaprPseXC4qtZJGnF9Q**&Ticket=" + res.ticket + "&Randstr=" + res.randstr + "&UserIP=223.166.32.38";
    }

    //https://ssl.captcha.qq.com/ticket/verify?aid=2080083621&AppSecretKey=0sp6LaprPseXC4qtZJGnF9Q**&Ticket=t02SKXxGXr4wUtLb00a8xZV9y8hArZZbLOjk60FFDx_TEdyd4u09AQEwlYRN7HB7PqPj2kygAe5fW_OibkrGxe4yo21Hb5DKFHTY5HLVVqGlHXazLmKo7fONQ**&Randstr=@_4P&UserIP=223.166.32.38
}
</script>

</html>
